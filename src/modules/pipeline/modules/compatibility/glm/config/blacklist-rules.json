{
  "request": {
    "tools": {
      "function": {
        "removeKeys": ["strict", "json_schema"]
      }
    },
    "messages": {
      "assistantToolCalls": {
        "function": {
          "removeKeys": ["strict"]
        }
      }
    },
    "topLevel": {
      "conditional": [
        { "when": { "tools": "empty" }, "remove": ["tool_choice"] }
      ]
    }
  }
}

