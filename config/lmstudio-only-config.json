{
  "pipelineId": "lmstudio-only-production",
  "description": "LMStudio专用生产环境配置 - 使用gpt-oss-20b-mlx模型",
  "mode": "production",
  "dynamicRouting": {
    "enabled": true,
    "classificationMode": "auto",
    "routingCategories": {
      "default": {
        "description": "标准通用请求",
        "targetProviders": ["lmstudio"],
        "models": ["gpt-oss-20b-mlx"],
        "priority": 1,
        "maxTokens": 8192
      },
      "longcontext": {
        "description": "长文本处理请求",
        "targetProviders": ["lmstudio"],
        "models": ["gpt-oss-20b-mlx"],
        "priority": 2,
        "maxTokens": 32768,
        "threshold": {
          "tokenCount": 16000,
          "charCount": 64000
        }
      },
      "thinking": {
        "description": "复杂推理和问题解决",
        "targetProviders": ["lmstudio"],
        "models": ["gpt-oss-20b-mlx"],
        "priority": 3,
        "indicators": [
          "analyze", "reason", "solve", "explain", "compare", "evaluate",
          "complex", "difficult", "challenging", "detailed", "comprehensive"
        ]
      },
      "background": {
        "description": "后台处理和自动化",
        "targetProviders": ["lmstudio"],
        "models": ["gpt-oss-20b-mlx"],
        "priority": 4,
        "timeout": 60000
      },
      "websearch": {
        "description": "网络搜索和实时信息",
        "targetProviders": ["lmstudio"],
        "models": ["gpt-oss-20b-mlx"],
        "priority": 5,
        "indicators": [
          "search", "find", "latest", "current", "recent", "news", "information",
          "weather", "price", "stock", "today", "now"
        ]
      },
      "vision": {
        "description": "图像和视觉处理",
        "targetProviders": ["lmstudio"],
        "models": ["gpt-oss-20b-mlx"],
        "priority": 6,
        "indicators": [
          "image", "picture", "photo", "visual", "see", "look", "describe",
          "analyze image", "what do you see", "screenshot", "diagram"
        ]
      },
      "coding": {
        "description": "代码生成和编程",
        "targetProviders": ["lmstudio"],
        "models": ["gpt-oss-20b-mlx"],
        "priority": 7,
        "indicators": [
          "code", "function", "program", "algorithm", "debug", "implement",
          "javascript", "python", "typescript", "java", "cpp", "sql"
        ]
      }
    }
  },
  "providers": {
    "lmstudio": {
      "type": "lmstudio",
      "baseUrl": "http://localhost:1234",
      "enabled": true,
      "health": "healthy",
      "models": {
        "gpt-oss-20b-mlx": {
          "maxTokens": 32768,
          "temperature": 0.7,
          "weight": 1.0,
          "specialties": ["default", "longcontext", "thinking", "background", "websearch", "vision", "coding"],
          "performance": {
            "avgResponseTime": 250,
            "errorRate": 0.01,
            "successRate": 0.99
          }
        }
      }
    }
  },
  "loadBalancer": {
    "strategy": "weighted",
    "healthCheck": {
      "enabled": true,
      "interval": 30000,
      "timeout": 5000,
      "retries": 3
    },
    "failover": {
      "enabled": true,
      "maxRetries": 3,
      "backoffMultiplier": 2
    },
    "circuitBreaker": {
      "enabled": true,
      "failureThreshold": 5,
      "recoveryTimeout": 60000
    }
  },
  "production": {
    "enableMetrics": true,
    "enableLogging": true,
    "enableHealthChecks": true,
    "requestTimeout": 30000,
    "maxConcurrency": 10,
    "rateLimiting": {
      "enabled": true,
      "requestsPerMinute": 60,
      "burstSize": 10
    }
  }
}