//#region src/validators/validateBundleDependencies.ts
/**
* Validate the `bundleDependencies` field in a package.json, which can either be
* an array of strings or a boolean.
*
* ["renderized", "super-streams"]
*/
const validateBundleDependencies = (obj) => {
	const errors = [];
	if (typeof obj === "boolean") return [];
	else if (Array.isArray(obj)) for (let i = 0; i < obj.length; i++) {
		const item = obj[i];
		if (typeof item !== "string") {
			const itemType = item === null ? "null" : typeof item;
			errors.push(`item at index ${i} should be a string, not \`${itemType}\``);
		} else if (item.trim() === "") errors.push(`item at index ${i} is empty, but should be a dependency name`);
	}
	else if (obj == null) errors.push("the field is `null`, but should be an `Array` or a `boolean`");
	else {
		const valueType = typeof obj;
		errors.push(`the type should be \`Array\` or \`boolean\`, not \`${valueType}\``);
	}
	return errors;
};

//#endregion
export { validateBundleDependencies };