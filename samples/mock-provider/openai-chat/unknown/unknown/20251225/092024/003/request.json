{
  "meta": {
    "stage": "provider-request",
    "version": "0.89.253",
    "buildTime": "2025-12-23T11:03:26.745Z",
    "entryEndpoint": "/v1/chat/completions",
    "clientRequestId": "openai-chat-unknown-unknown-20251223T190326684-001"
  },
  "url": "https://open.bigmodel.cn/api/coding/paas/v4/chat/completions",
  "headers": {
    "Content-Type": "application/json",
    "User-Agent": "node",
    "Authorization": "Bearer****PvttZB",
    "Accept": "*/*"
  },
  "body": {
    "messages": [
      {
        "role": "system",
        "content": "You are a safety-checked coding assistant whose tools only include a sandboxed shell. Whenever the user requests a directory listing you MUST call the `shell` tool with the exact command `ls -la`. After the tool finishes, summarize the first few entries in plain Chinese."
      },
      {
        "role": "user",
        "content": "请调用 shell 工具运行 `ls -la` 查看工作目录，然后把前几行告诉我。"
      }
    ],
    "tools": [
      {
        "type": "function",
        "function": {
          "name": "shell",
          "description": "Use TOON: put arguments into arguments.toon as multi-line key: value (e.g., command / workdir).",
          "parameters": {
            "type": "object",
            "properties": {
              "toon": {
                "type": "string",
                "description": "TOON-encoded arguments (multi-line key: value). Example: command: bash -lc \"echo ok\"\\nworkdir: ."
              }
            },
            "required": [
              "toon"
            ],
            "additionalProperties": false
          }
        }
      },
      {
        "type": "function",
        "function": {
          "name": "list_mcp_resources",
          "description": "List resources from a given MCP server (arguments.server = server label).",
          "parameters": {
            "type": "object",
            "properties": {
              "server": {
                "type": "string"
              },
              "filter": {
                "type": "string"
              },
              "root": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        }
      },
      {
        "type": "function",
        "function": {
          "name": "list_mcp_resource_templates",
          "description": "List resource templates from MCP servers.",
          "parameters": {
            "type": "object",
            "properties": {
              "cursor": {
                "type": "string"
              },
              "server": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        }
      }
    ],
    "model": "glm-4.7",
    "temperature": 0,
    "tool_choice": {
      "type": "function",
      "function": {
        "name": "shell"
      }
    },
    "stream": false,
    "max_tokens": 8192
  },
  "reqId": "openai-chat-unknown-unknown-20251225T092024-003"
}